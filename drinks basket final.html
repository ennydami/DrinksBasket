<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Drinks Basket - Healthy drinks and bites in all its deliciousness  </title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                    },
                    colors: {
                        'primary': '#1B5E20', /* Rich dark green */
                        'secondary': '#4CAF50', /* Vibrant green */
                        'accent': '#D32F2F', /* Deep red/orange */
                        'text-dark': '#333333',
                        'text-light': '#ffffff',
                    }
                }
            }
        }
    </script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            color: #333;
        }
        .hero-background {
            background: linear-gradient(to bottom right, #4CAF50, #D32F2F);
            background-size: cover;
            background-position: center;
        }
        .custom-shadow {
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
        }
        .form-section.hidden, .checkout-section.hidden {
            display: none;
        }
        .loader {
            border: 4px solid #f3f3f3;
            border-top: 4px solid #4CAF50;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
</head>
<body class="bg-gray-50">

    <div id="messageModal" class="fixed inset-0 z-50 hidden items-center justify-center bg-gray-900 bg-opacity-50 transition-opacity duration-300">
        <div class="bg-white p-6 rounded-lg shadow-lg max-w-sm mx-auto transform scale-95 transition-transform duration-300">
            <div class="flex justify-between items-center mb-4">
                <h3 class="text-xl font-bold text-text-dark" id="modal-title">Message</h3>
                <button onclick="closeModal()" class="text-gray-500 hover:text-gray-700">&times;</button>
            </div>
            <p id="modal-text" class="text-lg text-text-dark">This is a message.</p>
        </div>
    </div>

    <header class="sticky top-0 z-40 bg-white shadow-lg">
        <nav class="container mx-auto px-6 py-4 flex items-center justify-between">
            <div class="text-2xl font-bold text-accent">Drinks Basket</div>
            
            <div class="hidden md:flex items-center space-x-6">
                <a href="#shop-section" class="text-lg font-medium text-text-dark hover:text-accent transition-colors duration-200">Shop</a>
                <a href="#about" class="text-lg font-medium text-text-dark hover:text-accent transition-colors duration-200">About Us</a>
                <a href="#delivery-policy" class="text-lg font-medium text-text-dark hover:text-accent transition-colors duration-200">Delivery Policy</a>
                <a href="#contact" class="text-lg font-medium text-text-dark hover:text-accent transition-colors duration-200">Contact</a>
                <button id="checkout-btn" class="bg-primary text-white font-bold py-2 px-6 rounded-full shadow-md hover:bg-opacity-90 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed" disabled>
                    Basket (<span id="basket-count">0</span>)
                </button>
            </div>

            <div class="md:hidden flex items-center space-x-4">
                <button id="mobile-menu-btn" class="text-text-dark p-2 rounded-md hover:bg-gray-100">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7"></path></svg>
                </button>
                <button id="checkout-btn-mobile" class="relative bg-primary text-white font-bold p-2 rounded-full shadow-md disabled:opacity-50 disabled:cursor-not-allowed" disabled>
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.183 1.77.707 1.77H17m0-7a2 2 0 11-4 0 2 2 0 014 0z"/>
                    </svg>
                    <span id="basket-count-mobile" class="absolute top-0 right-0 inline-flex items-center justify-center px-2 py-1 text-xs font-bold leading-none text-red-100 transform translate-x-1/2 -translate-y-1/2 bg-accent rounded-full">0</span>
                </button>
            </div>
        </nav>
        
        <div id="mobile-menu" class="hidden md:hidden bg-white shadow-md rounded-b-lg">
            <a href="#shop-section" class="block py-3 px-6 text-text-dark hover:bg-gray-100 transition-colors duration-200">Shop</a>
            <a href="#about" class="block py-3 px-6 text-text-dark hover:bg-gray-100 transition-colors duration-200">About Us</a>
            <a href="#delivery-policy" class="block py-3 px-6 text-text-dark hover:bg-gray-100 transition-colors duration-200">Delivery Policy</a>
            <a href="#contact" class="block py-3 px-6 text-text-dark hover:bg-gray-100 transition-colors duration-200">Contact</a>
        </div>
    </header>

    <main>
        <section id="hero-section" class="hero-background text-white text-center py-20 md:py-32 rounded-b-3xl relative overflow-hidden">
            <div class="absolute inset-0 bg-black bg-opacity-10"></div>
            <div class="relative z-10 container mx-auto px-6">
                <h1 class="text-4xl md:text-6xl font-extrabold leading-tight tracking-tight mb-4">DRINKS BASKET</h1>
                <p class="text-xl md:text-2xl mb-8 font-light">Healthy Drinks and bites in all its deliciousness .</p>
                <button onclick="showShop()" class="bg-primary text-white font-bold py-4 px-8 rounded-full shadow-lg hover:bg-opacity-90 transform transition-transform duration-200 hover:scale-105">Shop Now</button>
            </div>
        </section>

        <section class="py-16 bg-gray-50">
            <div class="container mx-auto px-6">
                <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                    <div class="bg-white p-8 rounded-2xl custom-shadow text-center transform transition-transform duration-300 hover:scale-105">
                        <div class="mx-auto w-12 h-12 mb-4">
                            <svg class="w-full h-full text-secondary" fill="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                                <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 15.93l-4.24-4.24 1.41-1.41L11 14.01l6.83-6.83 1.41 1.41-8.24 8.24z"/>
                            </svg>
                        </div>
                        <h3 class="text-2xl font-semibold mb-2 text-text-dark">Hand-Picked Quality</h3>
                        <p class="text-gray-600">We source only the freshest fruits and finest beverages for every basket.</p>
                    </div>

                    <div class="bg-white p-8 rounded-2xl custom-shadow text-center transform transition-transform duration-300 hover:scale-105">
                        <div class="mx-auto w-12 h-12 mb-4">
                            <svg class="w-full h-full text-secondary" fill="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                                <path d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"/>
                            </svg>
                        </div>
                        <h3 class="text-2xl font-semibold mb-2 text-text-dark">Fast Delivery</h3>
                        <p class="text-gray-600">Enjoy seamless, reliable delivery right to your doorstep, chilled and ready.</p>
                    </div>
                </div>
            </div>
        </section>

        <section id="delivery-policy" class="py-16 bg-white">
            <div class="container mx-auto px-6 max-w-5xl">
                <h2 class="text-4xl font-bold text-accent text-center mb-8">Delivery & Order Policy</h2>
                <div class="bg-gray-100 p-8 rounded-2xl custom-shadow">
                    <p class="text-lg text-text-dark mb-4">
                        We are open every day from **8am-5pm** and **Sundays 12-5pm**. Orders that come in after 5pm will be delivered **next day**.
                    </p>
                    <ul class="space-y-4 text-text-dark">
                        <li class="flex items-start">
                            <span class="text-secondary text-2xl mr-3 mt-1">&#9888;</span>
                            <span class="text-lg">All delivery orders are processed and delivered within **2 hours 30 minutes**</span>
                        </li>
                        <li class="flex items-start">
                            <span class="text-accent text-2xl mr-3 mt-1">&#10060;</span>
                            <span class="text-lg">**No Order Customization**</span>
                        </li>
                        <li class="flex items-start">
                            <span class="text-secondary text-2xl mr-3 mt-1">&#9888;</span>
                            <span class="text-lg">Carefully provide your correct shipping details and an active phone number (**₦2,000 Charges Apply for Updates** - no refunds please)</span>
                        </li>
                        <li class="flex items-start">
                            <span class="text-secondary text-2xl mr-3 mt-1">&#9888;</span>
                            <span class="text-lg">Extra packaging attracts **₦1,000 per extra**</span>
                        </li>
                        <li class="flex items-start">
                            <span class="text-secondary text-2xl mr-3 mt-1">&#9888;</span>
                            <span class="text-lg">Carefully choose either **Pickup OR Delivery** - **₦1,000 Charges Apply for Update** - no refunds please</span>
                        </li>
                        <li class="flex items-start">
                            <span class="text-accent text-2xl mr-3 mt-1">&#9888;</span>
                            <span class="text-lg">Riders will not wait more than **10 minutes** at your location</span>
                        </li>
                        <li class="flex items-start">
                            <span class="text-accent text-2xl mr-3 mt-1">&#9888;</span>
                            <span class="text-lg">**Missed Delivery**: **₦2,000 fee** charge to return to factory & reschedule. We can deliver or you pickup.</span>
                        </li>
                        <li class="flex items-start">
                            <span class="text-accent text-2xl mr-3 mt-1">&#10071;</span>
                            <span class="text-lg">Full delivery fee charged to redispatch and **we won't refund please**</span>
                        </li>
                        <li class="flex items-start">
                            <span class="text-accent text-2xl mr-3 mt-1">&#9679;</span>
                            <span class="text-lg">For every order that's returned, we need to remake the product, repackage, reprint slips, reschedule delivery etc. **Don't miss your delivery please**</span>
                        </li>
                    </ul>
                </div>
            </div>
        </section>

        <section id="about" class="py-16 bg-gray-50">
            <div class="container mx-auto px-6 text-center max-w-4xl">
                <h2 class="text-4xl font-bold text-primary mb-6">Our Commitment to Freshness</h2>
                <p class="text-xl text-gray-700 mb-8">
                    Drinks Basket was founded on a simple principle: to bring the freshest, most wholesome drinks and bites directly to you. We believe that good health starts with natural ingredients, which is why we meticulously source and prepare every item, from our handcrafted Banana Bread and refreshing Parfaits to our nourishing Natural Drinks.
                </p>
                <p class="text-lg text-gray-600">
                    We're passionate about quality, from the farm to your fridge, ensuring you get the best taste and nutrition with every order. More than just a delivery service, we are your partner in healthy living.
                </p>
            </div>
        </section>
        <section id="shop-section" class="py-16 bg-white">
            <div class="container mx-auto px-6 text-center">
                <h2 class="text-4xl font-bold text-text-dark mb-10">Our Products</h2>
                <p class="text-gray-600 mb-8">Click on an item to add it to your basket. You can view your basket and checkout by clicking the basket icon in the top right.</p>
                <div id="product-container" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8">
                    </div>
            </div>
        </section>

        <section id="checkout-section" class="py-16 bg-gray-50 checkout-section hidden">
            <div class="container mx-auto px-6">
                <div class="max-w-3xl mx-auto bg-white p-8 rounded-2xl custom-shadow">
                    <h2 class="text-3xl font-bold text-center text-text-dark mb-8">Checkout</h2>
                    
                    <div id="basket-summary" class="bg-gray-100 p-6 rounded-xl mb-6">
                        <h3 class="text-xl font-semibold mb-4">Your Basket</h3>
                        <div id="basket-items-container">
                            </div>

                        <div class="mt-4 pt-4 border-t border-gray-300 space-y-2">
                            <div class="flex justify-between items-center">
                                <span class="text-lg font-medium">Subtotal:</span>
                                <span id="subtotal-price" class="text-xl font-bold text-text-dark">₦0.00</span>
                            </div>
                            <div class="flex justify-between items-center">
                                <label for="delivery-option" class="text-lg font-medium block">Delivery Fee (<span class="text-accent">Required</span>):</label>
                                <span id="delivery-price-display" class="text-xl font-bold text-accent">₦0.00</span>
                            </div>
                        </div>

                        <div class="flex justify-between items-center mt-4 pt-4 border-t border-gray-300">
                            <span class="text-2xl font-bold">Total:</span>
                            <span id="total-price" class="text-3xl font-bold text-accent">₦0.00</span>
                        </div>
                    </div>

                    <h3 class="text-xl font-semibold mb-4 text-text-dark">Delivery Details</h3>
                    <form id="checkout-form">
                        <div class="mb-4">
                            <label for="name" class="block text-gray-700 font-semibold mb-2">Full Name</label>
                            <input type="text" id="name" name="name" class="w-full p-3 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-primary" required>
                        </div>

                        <div class="mb-4">
                            <label for="delivery-option" class="block text-gray-700 font-semibold mb-2">Select Delivery Destination (LGA)</label>
                            <select id="delivery-option" name="delivery-option" class="w-full p-3 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-primary" required>
                                <option value="">-- Select LGA to Calculate Fee --</option>
                                </select>
                        </div>

                        <div class="mb-4">
                            <label for="address" class="block text-gray-700 font-semibold mb-2">Detailed Delivery Address</label>
                            <input type="text" id="address" name="address" class="w-full p-3 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-primary" required>
                        </div>
                        <div class="mb-6">
                            <label for="phone" class="block text-gray-700 font-semibold mb-2">Phone Number</label>
                            <input type="tel" id="phone" name="phone" class="w-full p-3 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-primary" required>
                        </div>
                        
                        <h3 class="text-xl font-semibold mb-4 text-text-dark">Payment Method</h3>
                        <div class="mb-6">
                            <select id="payment-method" name="payment-method" class="w-full p-3 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-primary" required>
                                <option value="bank">Pay with Bank Transfer</option>
                            </select>
                        </div>

                        <div id="bank-payment-form" class="bg-gray-100 p-6 rounded-xl mb-6">
                            <h4 class="font-semibold text-lg mb-4">Bank Transfer Details</h4>
                            <p class="text-gray-700 mb-4">Transfer the **Total Amount** (including delivery) to the account below, then click "Complete Order" to send a screenshot of the evidence to our WhatsApp number.</p>
                            
                            <div class="mb-4">
                                <label class="block text-sm text-gray-700 font-semibold mb-2">Account Number</label>
                                <div class="flex items-center space-x-2">
                                    <div id="account-number-display" class="w-full p-3 rounded-lg border border-gray-300 bg-gray-200 font-mono text-lg select-all">1015903740</div>
                                    <button type="button" onclick="copyAccountNumber()" class="p-3 bg-secondary text-white rounded-lg hover:bg-opacity-90 transition-colors duration-200">
                                        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1M8 5a2 2 0 002 2h2a2 2 0 002-2M8 5a2 2 0 012-2h2a2 2 0 012 2m0 5a2 2 0 012 2v2a2 2 0 01-2 2M16 16H8"></path>
                                        </svg>
                                    </button>
                                </div>
                            </div>
                            <div class="mb-4">
                                <label class="block text-sm text-gray-700 font-semibold mb-2">Account Name</label>
                                <div class="w-full p-3 rounded-lg border border-gray-300 bg-gray-200">Drinks basket</div>
                            </div>
                            <div class="mb-4">
                                <label class="block text-sm text-gray-700 font-semibold mb-2">Bank</label>
                                <div class="w-full p-3 rounded-lg border border-gray-300 bg-gray-200">Zenith bank</div>
                            </div>
                        </div>

                        <button type="submit" id="submit-order-btn" class="w-full bg-accent text-white font-bold py-3 px-6 rounded-full shadow-lg hover:bg-opacity-90 transition-colors duration-200 disabled:opacity-50" disabled>
                            Complete Order
                        </button>
                    </form>
                </div>
                </div>
        </section>

        <section class="py-16 bg-secondary rounded-t-3xl text-center">
            <div class="container mx-auto px-6">
                <h2 class="text-3xl md:text-4xl font-bold text-text-dark mb-4">Ready to Refresh?</h2>
                <p class="text-lg md:text-xl text-text-dark mb-8">Discover a new way to celebrate with our perfectly crafted drink baskets.</p>
            </div>
        </section>
    </main>

    <footer id="contact" class="bg-text-dark text-text-light py-10">
        <div class="container mx-auto px-6 text-center">
            <div class="flex flex-col md:flex-row justify-between items-center mb-6">
                <div class="mb-4 md:mb-0">
                    <h4 class="text-xl font-bold text-accent">Drinks Basket</h4>
                </div>
                <div class="flex flex-col items-center md:items-start space-y-2 mb-4 md:mb-0">
                    <a href="tel:09022207020" class="text-sm hover:text-accent transition-colors duration-200">Phone: 09022207020</a>
                    <a href="https://wa.me/09022207020" target="_blank" class="text-sm hover:text-accent transition-colors duration-200">WhatsApp: 09022207020</a>
                    <a href="mailto:drinksbasket17@gmail.com" class="text-sm hover:text-accent transition-colors duration-200">Email: drinksbasket17@gmail.com</a>
                </div>
                <div class="flex flex-col items-center md:items-start space-y-2">
                    <a href="https://www.instagram.com/Drinks_basket" target="_blank" class="text-sm hover:text-accent transition-colors duration-200">Instagram: @Drinks_basket</a>
                    <a href="https://www.tiktok.com/@drinks_basket" target="_blank" class="text-sm hover:text-accent transition-colors duration-200">TikTok: @drinks_basket</a>
                </div>
                
            </div>
            <p class="text-sm text-gray-400">&copy; 2025 Drinks Basket. All rights reserved.</p>
        </div>
    </footer>

    <script>
        // Global state for the basket
        let basket = [];
        let deliveryFee = 0;

        // Delivery price data structure based on your provided ranges (using the lower end as default)
        const DELIVERY_PRICES = {
            'close-mainland': { min: 2500, max: 4000, label: 'Close Mainland / Neighboring (e.g., Mushin, Ikeja)' },
            'mid-mainland': { min: 3500, max: 5500, label: 'Mid-Distance Mainland / Outskirts (e.g., Alimosho, Ojo)' },
            'close-island': { min: 4000, max: 8000, label: 'Lagos Island / Close Island (e.g., Eti-Osa, Lagos Island)' },
            'remote': { min: 5000, max: 10000, label: 'Far Outskirts / Remote (e.g., Badagry, Epe, Ibeju-Lekki)' }
        };

        // Map of specific LGAs to their price keys
        const LGA_TO_PRICE_KEY = {
            // Close Mainland / Neighboring: ₦2,500 – ₦4,000
            'Mushin': 'close-mainland', 'Somolu': 'close-mainland', 'Lagos Mainland': 'close-mainland', 
            'Ikeja': 'close-mainland', 'Bariga': 'close-mainland', 'Ifako-Ijaiye': 'close-mainland', 
            'Oshodi-Isolo': 'close-mainland', 'Agege': 'close-mainland',

            // Mid-Distance Mainland / Outskirts: ₦3,500 – ₦5,500
            'Alimosho': 'mid-mainland', 'Ajeromi-Ifelodun': 'mid-mainland', 'Apapa': 'mid-mainland', 
            'Ojo': 'mid-mainland', 'Amuwo-Odofin': 'mid-mainland', 'Ikorodu': 'mid-mainland',
            'Bakare': 'mid-mainland', // Assuming Bakare is mid-mainland for pricing

            // Lagos Island / Close Island: ₦4,000 – ₦8,000
            'Lagos Island': 'close-island', 'Eti-Osa': 'close-island',

            // Far Outskirts / Remote: ₦5,000 – ₦10,000+
            'Badagry': 'remote', 'Epe': 'remote', 'Ibeju-Lekki': 'remote',
        };

        // Full product list (truncated for brevity, keep your full list here)
        const products = [
            // Banana Bread
            {
                name: "Classic Banana Bread",
                image: "DRINKSBASKET1 .jpg",
                description: "The original recipe, baked to perfection.",
                sizes: [
                    { sizeName: "Mini", price: 1500 },
                    { sizeName: "Medium", price: 5500 },
                    { sizeName: "Regular", price: 8000 }
                ]
            },
            {
                name: "Coconut Banana Bread",
                image: "coconut banana bread slices",
                description: "A tropical twist with shredded coconut.",
                sizes: [
                    { sizeName: "Mini", price: 1700 },
                    { sizeName: "Medium", price: 6000 },
                    { sizeName: "Regular", price: 8800 }
                ]
            },
            {
                name: "Raisins Banana Bread",
                image: "raisin banana bread loaf",
                description: "Sweet raisins baked throughout the loaf.",
                sizes: [
                    { sizeName: "Mini", price: 1700 },
                    { sizeName: "Medium", price: 6000 },
                    { sizeName: "Regular", price: 8800 }
                ]
            },
            {
                name: "Chocolate Crunch & Chips Banana Bread",
                image: "chocolate chip banana bread slice",
                description: "Crunchy chocolate pieces and melted chocolate chips.",
                sizes: [
                    { sizeName: "Mini", price: 1700 },
                    { sizeName: "Medium", price: 6000 },
                    { sizeName: "Regular", price: 9000 }
                ]
            },
            {
                name: "Double Chocolate Banana Bread",
                image: "dark double chocolate banana bread",
                description: "For the ultimate chocolate lover.",
                sizes: [
                    { sizeName: "Mini", price: 2000 },
                    { sizeName: "Medium", price: 7000 },
                    { sizeName: "Regular", price: 9500 }
                ]
            },
            {
                name: "Oreos Banana Bread",
                image: "oreo cookies banana bread",
                description: "Crushed Oreos for a cookies and cream flavor.",
                sizes: [
                    { sizeName: "Mini", price: 2000 },
                    { sizeName: "Medium", price: 7000 },
                    { sizeName: "Regular", price: 9500 }
                ]
            },
            {
                name: "Nutty & Nuts Banana Bread",
                image: "nutty banana bread with almonds", 
                description: "Loaded with a variety of nuts for extra crunch.",
                sizes: [
                    { sizeName: "Mini", price: 2200 },
                    { sizeName: "Medium", price: 7500 },
                    { sizeName: "Regular", price: 10000 }
                ]
            },
            {
                name: "Baileys Banana Bread",
                image: "baileys irish cream banana bread",
                description: "A rich and boozy banana bread.",
                sizes: [
                    { sizeName: "Mini", price: 2000 },
                    { sizeName: "Medium", price: 6500 },
                    { sizeName: "Regular", price: 9000 }
                ]
            },
            {
                name: "Red Velvet Banana Bread",
                image: "red velvet banana bread with cream cheese",
                description: "A vibrant and moist red velvet twist.",
                sizes: [
                    { sizeName: "Mini", price: 1700 },
                    { sizeName: "Medium", price: 6000 },
                    { sizeName: "Regular", price: 8800 }
                ]
            },
            {
                name: "Mix Match Banana Bread",
                image: "mixed flavor banana bread slices",
                description: "Choose your favorite flavor combination.",
                sizes: [
                    { sizeName: "Chocolate & Oreo (M)", price: 9000 },
                    { sizeName: "Chocolate & Oreo (R)", price: 11000 },
                    { sizeName: "Coconut & Chocolate (M)", price: 7500 },
                    { sizeName: "Coconut & Chocolate (R)", price: 10000 },
                    { sizeName: "Coconut & Raisins (M)", price: 7500 },
                    { sizeName: "Coconut & Raisins (R)", price: 10000 },
                    { sizeName: "Blueberry & Strawberry (M)", price: 10000 },
                    { sizeName: "Blueberry & Strawberry (R)", price: 15000 }
                ]
            },
            {
                name: "Made with Oat Flour Banana Bread",
                image: "oat flour banana bread healthier option",
                description: "A special, healthier option made with oat flour.",
                sizes: [
                    { sizeName: "Medium", price: 15000 },
                    { sizeName: "Regular", price: 20000 }
                ]
            },
            // Parfaits
            {
                name: "Signature Parfait",
                image: "greek yogurt fruit granola parfait", 
                description: "Classic parfait with Greek yogurt, apple, granola, coconut, nuts, kiwi, strawberry, and grapes.",
                sizes: [
                    { sizeName: "330ml Bowl 2 in 1", price: 12400 },
                    { sizeName: "330ml Bowl 3 in 1", price: 18000 },
                    { sizeName: "330ml Bowl 5 in 1", price: 31000 },
                    { sizeName: "330ml Bowl 10 in 1", price: 61000 },
                    { sizeName: "500ml Bowl Single", price: 8500 },
                    { sizeName: "500ml Bowl 2 in 1", price: 15000 },
                    { sizeName: "500ml Bowl 3 in 1", price: 24000 },
                    { sizeName: "500ml Bowl 5 in 1", price: 39000 },
                    { sizeName: "500ml Bowl 10 in 1", price: 78000 }
                ]
            },
            {
                name: "Strawberry Infused Parfait",
                image: "strawberry infused greek yogurt parfait",
                description: "Greek yogurt with chia seed, flax seed, blueberry, raspberry, exotic granola, grapes, and raisins.",
                sizes: [
                    { sizeName: "500ml Bowl Single", price: 10000 },
                    { sizeName: "500ml Bowl 2 in 1", price: 19500 },
                    { sizeName: "500ml Bowl 3 in 1", price: 28500 },
                    { sizeName: "500ml Bowl 5 in 1", price: 49000 },
                    { sizeName: "500ml Bowl 10 in 1", price: 98000 },
                    { sizeName: "1 litre Bowl", price: 20000 },
                    { sizeName: "2 litre Bowl", price: 39000 }
                ]
            },
            {
                name: "Parfait on the Go",
                image: "yogurt granola cup to go",
                description: "Made with regular yogurt, granola, apple & coconut.",
                sizes: [
                    { sizeName: "400ml Cup", price: 4000 }
                ]
            },
            // Extra Toppings
            {
                name: "Extra Toppings (Not to be ordered alone)",
                image: "assorted nuts seeds and fruits toppings",
                description: "Customize your parfait or yogurt with an extra serving of our fresh toppings.",
                sizes: [
                    { sizeName: "Almonds", price: 1800 },
                    { sizeName: "Apple Toppings", price: 1500 },
                    { sizeName: "Blueberries", price: 1800 },
                    { sizeName: "Strawberries", price: 1800 },
                    { sizeName: "Cashew", price: 1800 },
                    { sizeName: "Coconut", price: 1500 },
                    { sizeName: "Granola", price: 1500 },
                    { sizeName: "Grapes", price: 1800 },
                    { sizeName: "Kiwi", price: 1500 },
                    { sizeName: "Pomegranates", price: 1800 },
                    { sizeName: "Chia Seeds", price: 1500 }
                ]
            },
            // Granola
            {
                name: "Balance Bite Granola",
                image: "balanced seeds fruits nuts granola mix", 
                description: "Contains seeds, fruits, nuts, and raisins.",
                sizes: [
                    { sizeName: "500g", price: 15000 },
                    { sizeName: "1000g", price: 30000 }
                ]
            },
            {
                name: "Granola Original",
                image: "oat granola simple mix",
                description: "Our classic original granola mix.",
                sizes: [
                    { sizeName: "150g", price: 4000 },
                    { sizeName: "300g", price: 8000 },
                    { sizeName: "1000g", price: 24000 }
                ]
            },
            // Yogurt
            {
                name: "Plain Yogurt",
                image: "plain natural yogurt tub",
                description: "Simple and delicious plain yogurt.",
                sizes: [
                    { sizeName: "50cl", price: 3000 },
                    { sizeName: "1 litre", price: 5500 },
                    { sizeName: "2 litres", price: 11000 },
                    { sizeName: "5 litres", price: 25000 }
                ]
            },
            {
                name: "Strawberry Yogurt",
                image: "strawberry yogurt with fresh berries",
                description: "Creamy yogurt with real strawberry flavor.",
                sizes: [
                    { sizeName: "50cl", price: 3500 },
                    { sizeName: "1 litre", price: 7000 }
                ]
            },
            {
                name: "Vanilla Yogurt",
                image: "vanilla flavored yogurt",
                description: "Smooth and sweet vanilla-flavored yogurt.",
                sizes: [
                    { sizeName: "50cl", price: 3500 },
                    { sizeName: "1 litre", price: 7000 }
                ]
            },
            {
                name: "Greek Yogurt",
                image: "thick plain greek yogurt", 
                description: "Thick and rich Greek yogurt, available sweetened or unsweetened.",
                sizes: [
                    { sizeName: "500ml", price: 4000 },
                    { sizeName: "1 litre", price: 8000 },
                    { sizeName: "2 litres", price: 15000 },
                    { sizeName: "4 litres", price: 29000 }
                ]
            },
            // Natural Drinks
            {
                name: "Tigernut Milk",
                image: "bottles of tigernut milk", 
                description: "Available in Original, Choco, and Oatty Bana flavors.",
                sizes: [
                    { sizeName: "Single", price: 2500 },
                    { sizeName: "3 in 1", price: 7000 },
                    { sizeName: "6 in 1", price: 14000 },
                    { sizeName: "12 in 1", price: 27000 }
                ]
            },
            {
                name: "Zobo Drink",
                image: "zobo drink in a bottle", 
                description: "A refreshing detox drink.",
                sizes: [
                    { sizeName: "Regular", price: 2000 },
                    { sizeName: "6 in 1", price: 5800 },
                    { sizeName: "12 in 1", price: 11000 }
                ]
            }
        ];


        // --- Modal Functions ---
        function showModal(title, text) {
            document.getElementById('modal-title').textContent = title;
            document.getElementById('modal-text').innerHTML = text; // Use innerHTML for richer content
            document.getElementById('messageModal').classList.remove('hidden');
            document.getElementById('messageModal').classList.add('flex');
        }

        function closeModal() {
            document.getElementById('messageModal').classList.add('hidden');
            document.getElementById('messageModal').classList.remove('flex');
            document.getElementById('modal-text').classList.add('text-lg'); // Restore default text style
        }

        // --- Navigation Functions ---
        function toggleMobileMenu() {
            document.getElementById('mobile-menu').classList.toggle('hidden');
        }

        function showShop() {
            document.getElementById('shop-section').scrollIntoView({ behavior: 'smooth' });
        }

        function showCheckout() {
            if (basket.length === 0) {
                showModal('Basket Empty', 'Your basket is empty. Please add items before checking out.');
                return;
            }
            // Hide shop section and show checkout
            document.getElementById('shop-section').classList.add('hidden');
            document.getElementById('checkout-section').classList.remove('hidden');
            document.getElementById('checkout-section').scrollIntoView({ behavior: 'smooth' });
            renderBasketSummary();
        }

        function showShopAndHideCheckout() {
            document.getElementById('shop-section').classList.remove('hidden');
            document.getElementById('checkout-section').classList.add('hidden');
            document.getElementById('shop-section').scrollIntoView({ behavior: 'smooth' });
        }

        // --- Product & Basket Functions (Same as before) ---
        function renderProducts() {
            const container = document.getElementById('product-container');
            container.innerHTML = ''; 
            products.forEach(product => {
                const productCard = document.createElement('div');
                productCard.className = 'bg-white rounded-2xl p-6 custom-shadow cursor-pointer hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1';
                productCard.onclick = () => showProductModal(product);

                const prices = product.sizes.map(s => s.price);
                const minPrice = Math.min(...prices);
                const maxPrice = Math.max(...prices);
                let priceDisplay = `₦${minPrice.toLocaleString()}`;
                if (minPrice !== maxPrice) {
                    priceDisplay += ` - ₦${maxPrice.toLocaleString()}`;
                }

                productCard.innerHTML = `
                    <div class="h-40 bg-gray-100 rounded-xl mb-4 flex items-center justify-center overflow-hidden">
                        <span class="text-gray-400 text-sm italic"></span>
                    </div>
                    <h3 class="text-2xl font-semibold text-text-dark mb-2">${product.name}</h3>
                    <p class="text-gray-600 mb-4">${product.description}</p>
                    <div class="flex justify-between items-center">
                        <span class="text-primary text-xl font-bold">${priceDisplay}</span>
                        <button class="bg-secondary text-white text-sm font-bold py-2 px-4 rounded-full hover:bg-opacity-90 transition-colors duration-200">
                            Select
                        </button>
                    </div>
                `;
                container.appendChild(productCard);
            });
        }

        function showProductModal(product) {
            const sizeOptions = product.sizes.map((size, index) => `
                <label class="flex items-center space-x-3 p-3 border border-gray-200 rounded-lg cursor-pointer hover:bg-gray-50 transition-colors duration-150">
                    <input type="radio" name="product-size" value="${index}" data-price="${size.price}" class="form-radio h-5 w-5 text-primary" required>
                    <span class="text-lg font-medium text-text-dark">${size.sizeName}</span>
                    <span class="ml-auto text-xl font-bold text-accent">₦${size.price.toLocaleString()}</span>
                </label>
            `).join('');

            const modalContent = `
                <form id="add-to-basket-form">
                    <div class="mb-6 space-y-3">
                        ${sizeOptions}
                    </div>
                    <div class="flex items-center mb-6">
                        <label for="quantity" class="text-lg font-semibold text-text-dark mr-4">Quantity:</label>
                        <input type="number" id="quantity" name="quantity" value="1" min="1" max="99" class="w-20 p-2 border border-gray-300 rounded-lg text-center" required>
                    </div>
                    <button type="submit" class="w-full bg-primary text-white font-bold py-3 px-6 rounded-full shadow-lg hover:bg-opacity-90 transition-colors duration-200">
                        Add to Basket
                    </button>
                </form>
            `;

            showModal(product.name, modalContent);
            document.getElementById('modal-text').classList.remove('text-lg');

            const form = document.getElementById('add-to-basket-form');
            form.onsubmit = (e) => {
                e.preventDefault();
                const selectedSizeIndex = form['product-size'].value;
                const size = product.sizes[selectedSizeIndex];
                const quantity = parseInt(form['quantity'].value, 10);
                
                if (size && quantity > 0) {
                    addToBasket(product.name, size.sizeName, size.price, quantity);
                    closeModal();
                    showModal('Success!', `${quantity} x ${product.name} (${size.sizeName}) added to your basket.`);
                } else {
                    showModal('Error', 'Please select a size and quantity.');
                }
            };
        }

        function addToBasket(name, size, price, quantity) {
            const existingItem = basket.find(item => item.name === name && item.size === size);

            if (existingItem) {
                existingItem.quantity += quantity;
            } else {
                basket.push({
                    name: name,
                    size: size,
                    price: price,
                    quantity: quantity
                });
            }
            updateBasketUI();
        }

        /**
         * Calculates and displays subtotal, delivery fee, and total.
         */
        function calculateAndRenderTotal() {
            const subtotal = basket.reduce((sum, item) => sum + (item.price * item.quantity), 0);
            const total = subtotal + deliveryFee;

            document.getElementById('subtotal-price').textContent = `₦${subtotal.toLocaleString()}`;
            document.getElementById('delivery-price-display').textContent = `₦${deliveryFee.toLocaleString()}`;
            document.getElementById('total-price').textContent = `₦${total.toLocaleString()}`;
            
            // Enable submit button only if delivery fee has been set (i.e., destination selected)
            const submitBtn = document.getElementById('submit-order-btn');
            if (submitBtn) {
                if (deliveryFee > 0 && basket.length > 0) {
                    submitBtn.disabled = false;
                } else {
                    submitBtn.disabled = true;
                }
            }
        }

        function renderBasketSummary() {
            const container = document.getElementById('basket-items-container');
            container.innerHTML = ''; 
            let subtotal = 0;

            if (basket.length === 0) {
                container.innerHTML = '<p class="text-center text-gray-500 py-4">Your basket is empty. Add some delicious drinks and bites!</p>';
                deliveryFee = 0;
                calculateAndRenderTotal();
                return;
            }

            basket.forEach((item, index) => {
                const itemTotal = item.price * item.quantity;
                subtotal += itemTotal;

                const itemElement = document.createElement('div');
                itemElement.className = 'flex justify-between items-center py-2 border-b border-gray-200 last:border-b-0';
                itemElement.innerHTML = `
                    <div class="flex-grow">
                        <p class="font-medium text-text-dark">${item.name} <span class="text-sm text-gray-500">(${item.size})</span></p>
                        <p class="text-sm text-gray-600">₦${item.price.toLocaleString()} x ${item.quantity}</p>
                    </div>
                    <div class="flex items-center space-x-3">
                        <span class="font-bold text-accent">₦${itemTotal.toLocaleString()}</span>
                        <button type="button" onclick="removeItemFromBasket(${index})" class="text-accent hover:text-red-700 transition-colors duration-200 p-1 rounded-full">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16" />
                            </svg>
                        </button>
                    </div>
                `;
                container.appendChild(itemElement);
            });
            
            // Recalculate total after updating items
            calculateAndRenderTotal();
            updateBasketUI();
        }

        function removeItemFromBasket(index) {
            if (index >= 0 && index < basket.length) {
                basket.splice(index, 1);
                renderBasketSummary(); // Re-render to update basket items and total
                updateBasketUI();
                if (basket.length === 0) {
                    // Reset delivery fee if basket is empty
                    deliveryFee = 0; 
                    if (document.getElementById('delivery-option')) {
                        document.getElementById('delivery-option').value = "";
                    }
                    showShopAndHideCheckout();
                    showModal('Basket Empty', 'Your basket is now empty. Redirecting to shop.');
                }
            }
        }

        function updateBasketUI() {
            const count = basket.reduce((sum, item) => sum + item.quantity, 0);
            document.getElementById('basket-count').textContent = count;
            document.getElementById('basket-count-mobile').textContent = count;

            const isDisabled = count === 0;
            document.getElementById('checkout-btn').disabled = isDisabled;
            document.getElementById('checkout-btn-mobile').disabled = isDisabled;
            
            // Also update checkout button state based on fee selection
            const submitBtn = document.getElementById('submit-order-btn');
            if (submitBtn) {
                submitBtn.disabled = isDisabled || deliveryFee === 0;
            }
        }

        // --- NEW DELIVERY LOGIC ---

        function populateDeliveryOptions() {
            const select = document.getElementById('delivery-option');
            // Group LGAs by price key for display
            const groups = {};
            for (const lga in LGA_TO_PRICE_KEY) {
                const key = LGA_TO_PRICE_KEY[lga];
                if (!groups[key]) {
                    groups[key] = [];
                }
                groups[key].push(lga);
            }

            for (const key in groups) {
                const groupLabel = DELIVERY_PRICES[key].label;
                const optgroup = document.createElement('optgroup');
                optgroup.label = groupLabel;

                groups[key].sort().forEach(lga => { // Sort LGAs alphabetically within the group
                    const option = document.createElement('option');
                    // Use the LGA name as the value
                    option.value = lga; 
                    // Display the LGA name + price range (using min and max from the group)
                    const price = DELIVERY_PRICES[key];
                    option.textContent = `${lga} (₦${price.min.toLocaleString()} - ₦${price.max.toLocaleString()})`;
                    optgroup.appendChild(option);
                });
                select.appendChild(optgroup);
            }
        }

        function handleDeliverySelection() {
            const select = document.getElementById('delivery-option');
            const selectedLGA = select.value;

            if (selectedLGA) {
                const priceKey = LGA_TO_PRICE_KEY[selectedLGA];
                // Use the middle point of the price range as the default dispatch fee, rounded to the nearest 500
                const minPrice = DELIVERY_PRICES[priceKey].min;
                const maxPrice = DELIVERY_PRICES[priceKey].max;
                
                // Calculate the middle value, rounded up to the nearest 500 for a realistic dispatch quote
                deliveryFee = Math.ceil((minPrice + maxPrice) / 2 / 500) * 500;
            } else {
                deliveryFee = 0;
            }

            calculateAndRenderTotal();
            updateBasketUI();
        }

        /**
         * Handles the checkout form submission.
         */
        function processOrder(e) {
            e.preventDefault();

            if (basket.length === 0) {
                showModal('Order Error', 'Your basket is empty! Please add items before checking out.');
                return;
            }

            if (deliveryFee === 0 || !document.getElementById('delivery-option').value) {
                showModal('Delivery Required', 'Please select your **Delivery Destination (LGA)** to calculate the delivery fee and complete your order.');
                return;
            }

            const form = e.target;
            const name = form['name'].value;
            const address = form['address'].value;
            const phone = form['phone'].value;
            const paymentMethod = form['payment-method'].value;
            const selectedLGA = form['delivery-option'].value;

            const subtotal = basket.reduce((sum, item) => sum + (item.price * item.quantity), 0);
            const total = subtotal + deliveryFee;
            const whatsappNumber = '2349022207020'; 

            const orderDetails = basket.map(item => 
                `${item.quantity} x ${item.name} (${item.size}) - ₦${(item.price * item.quantity).toLocaleString()}`
            ).join('\n');

            let whatsappMessage = `
*--- New Drinks Basket Order ---*
*Customer:* ${name}
*Phone:* ${phone}
*Delivery LGA:* ${selectedLGA}
*Address:* ${address}
*Payment:* ${paymentMethod === 'bank' ? 'Bank Transfer (Payment proof required)' : paymentMethod}
*Subtotal:* ₦${subtotal.toLocaleString()}
*Delivery Fee:* ₦${deliveryFee.toLocaleString()}
*Total Payment:* ₦${total.toLocaleString()}

*Items:*
${orderDetails}

_Please send the payment proof screenshot to confirm the order._
            `.trim();
            
            const encodedMessage = encodeURIComponent(whatsappMessage);
            const whatsappLink = `https://wa.me/${whatsappNumber}?text=${encodedMessage}`;

            showModal('Order Complete', `Thank you for your order! Your total is **₦${total.toLocaleString()}** (including delivery to ${selectedLGA}). You will be redirected to WhatsApp to send your payment proof and confirm your order details.`);
            
            setTimeout(() => {
                window.open(whatsappLink, '_blank');
                basket = [];
                deliveryFee = 0;
                updateBasketUI();
                if (document.getElementById('delivery-option')) {
                    document.getElementById('delivery-option').value = "";
                }
                form.reset();
                showShopAndHideCheckout();
            }, 2000);
        }

        // --- Utility Functions ---

        function copyAccountNumber() {
            const accountNumber = document.getElementById('account-number-display').textContent;
            navigator.clipboard.writeText(accountNumber).then(() => {
                showModal('Copied!', 'Account number copied to clipboard.');
            }).catch(err => {
                console.error('Could not copy text: ', err);
                showModal('Error', 'Could not copy account number. Please copy it manually.');
            });
        }

        // --- Initialization and Event Listeners ---

        document.addEventListener('DOMContentLoaded', () => {
            // 1. Initialize product display and delivery options
            renderProducts();
            populateDeliveryOptions(); // NEW: Populate the LGA dropdown
            updateBasketUI();

            // 2. Attach event listeners
            document.getElementById('mobile-menu-btn').addEventListener('click', toggleMobileMenu);
            document.getElementById('checkout-btn').addEventListener('click', showCheckout);
            document.getElementById('checkout-btn-mobile').addEventListener('click', showCheckout);
            
            // NEW: Listen for changes in the delivery dropdown
            document.getElementById('delivery-option').addEventListener('change', handleDeliverySelection);

            document.getElementById('checkout-form').addEventListener('submit', processOrder);

            // ... (rest of the listeners for mobile menu and modal closing)
            document.querySelectorAll('#mobile-menu a').forEach(link => {
                link.addEventListener('click', () => {
                    document.getElementById('mobile-menu').classList.add('hidden');
                });
            });

            document.getElementById('messageModal').addEventListener('click', (e) => {
                if (e.target.id === 'messageModal') {
                    closeModal();
                }
            });

            // Make utility functions globally accessible for inline handlers
            window.closeModal = closeModal;
            window.copyAccountNumber = copyAccountNumber;
            window.showShop = showShop;
            window.removeItemFromBasket = removeItemFromBasket;
        });
    </script>
</body>
</html>